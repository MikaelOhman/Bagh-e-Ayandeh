---
import Layout from '../layouts/Layout.astro';

const challenges = [
	{
		id: 1,
		category: 'üåä Water & Environment',
		title: 'Extreme Water Shortage',
		problem: 'Groundwater levels dropping 1-2 meters per year',
		consequence: 'Agriculture collapsing, households without water',
		impact: 'Critical - affects entire city',
		priority: 'ACUTE',
		priorityColor: 'red',
		solutions: [
			{
				name: 'Qanat Restoration',
				description: 'Clean and repair existing qanats with modern technology',
				cost: '500,000 - 1,000,000 SEK per qanat (~$50k-100k USD)',
				time: '2-3 years for pilot project',
				capacity: '5-10 million m¬≥ water/year',
				example: 'Yazd has successfully restored several qanats'
			},
			{
				name: 'Rainwater Harvesting',
				description: 'Cistern systems on roofs, underground tanks, infiltration basins',
				cost: '50,000 - 150,000 SEK/house (~$5k-15k USD)',
				time: '6-12 months',
				capacity: 'Capture 30-40% of rainfall = 50 million m¬≥/year',
				example: 'Rajasthan (India), Dubai'
			},
			{
				name: 'Drip Irrigation',
				description: 'Modern drip irrigation systems for agriculture',
				cost: '50,000 - 100,000 SEK/hectare (~$5k-10k USD)',
				time: '3-6 months per farm',
				capacity: '40-60% less water, 20-30% more yield',
				example: 'Israel, California, Jordan'
			}
		]
	},
	{
		id: 2,
		category: 'üåä Water & Environment',
		title: 'Air Pollution',
		problem: 'Traffic + industry + dust from dry land',
		consequence: 'Respiratory diseases, especially children and elderly',
		impact: '150+ days/year with poor air quality',
		priority: 'HIGH',
		priorityColor: 'orange',
		solutions: [
			{
				name: 'Urban Forest Planting',
				description: 'Plant 1 million trees in and around Shiraz',
				cost: '100-500 SEK/tree = 100-500M SEK total (~$10-50M USD)',
				time: '5-10 years for full program',
				capacity: 'Lower temperature 2-5¬∞C, improve air quality',
				example: 'Seoul (South Korea), Singapore'
			},
			{
				name: 'Electric Buses',
				description: 'Replace diesel buses with electric/trolley buses',
				cost: '5-8M SEK per e-bus (~$500k-800k USD)',
				time: '10-15 years for full conversion',
				capacity: 'Reduce CO2 by 50-70%',
				example: 'Shenzhen (China) - 100% electric buses'
			},
			{
				name: 'Bicycle Network',
				description: 'Separated bike lanes throughout the city',
				cost: '500-1000 SEK/meter = 500M-1B SEK (~$50-100M USD)',
				time: '5-7 years',
				capacity: '10-20% fewer cars',
				example: 'Amsterdam, Copenhagen'
			}
		]
	},
	{
		id: 3,
		category: 'üèôÔ∏è Infrastructure & City',
		title: 'Traffic Congestion',
		problem: 'Poorly planned urban development, too many cars',
		consequence: 'Hour-long queues, air pollution',
		impact: 'Rush hour 2-4 hours daily',
		priority: 'MEDIUM',
		priorityColor: 'yellow',
		solutions: [
			{
				name: 'Bus Rapid Transit (BRT)',
				description: 'Dedicated bus lanes with modern stations',
				cost: '100-200M SEK per km = 5-10B SEK total (~$500M-1B USD)',
				time: '3-5 years for first line',
				capacity: '20,000-30,000 passengers/hour/direction',
				example: 'Tehran, Istanbul, Bogot√°'
			},
			{
				name: 'Commuter Rail',
				description: 'Regional trains to suburbs',
				cost: '1-2B SEK per line (~$100-200M USD)',
				time: '5-8 years',
				capacity: '40,000+ passengers/hour',
				example: 'Tehran Metro, Istanbul'
			}
		]
	},
	{
		id: 4,
		category: 'üí∞ Economy & Work',
		title: 'Unemployment',
		problem: 'Especially youth (20-30%) without jobs',
		consequence: 'Brain drain, economic stagnation',
		impact: '~25% official, higher in reality',
		priority: 'HIGH',
		priorityColor: 'orange',
		solutions: [
			{
				name: 'Tech Hubs & Coworking',
				description: 'Modern coworking spaces for tech companies',
				cost: '10-50M SEK per hub (~$1-5M USD)',
				time: '12-18 months',
				capacity: '500-2000 jobs per hub',
				example: 'Bangalore, Tel Aviv'
			},
			{
				name: 'Vocational Training',
				description: 'Practical education (plumbing, electrical, construction)',
				cost: '50-100M SEK per center (~$5-10M USD)',
				time: '2-3 years to establish',
				capacity: '5,000-10,000 students/year',
				example: 'Germany (dual system), Singapore'
			}
		]
	},
	{
		id: 5,
		category: 'üè• Health & Education',
		title: 'Underfunded Healthcare',
		problem: 'Lack of modern equipment, medicine shortages',
		consequence: 'Poor care, preventable deaths',
		impact: 'Especially rural areas affected',
		priority: 'HIGH',
		priorityColor: 'orange',
		solutions: [
			{
				name: 'Mobile Clinics',
				description: 'Buses with basic medical equipment',
				cost: '5-10M SEK per bus (~$500k-1M USD)',
				time: '6-12 months',
				capacity: '50-100 patients/day per bus',
				example: 'India, Kenya, Australia (Aboriginal Health)'
			},
			{
				name: 'Telemedicine',
				description: 'Video consultations with specialists',
				cost: '50-100M SEK for infrastructure (~$5-10M USD)',
				time: '12-24 months',
				capacity: 'Reach 100,000+ patients/year',
				example: 'Rwanda, Estonia'
			}
		]
	}
];
---

<Layout title="Shiraz Challenges - Open Earth">
	<main>
		<div class="hero">
			<h1>Shiraz Challenges</h1>
			<p class="subtitle">
				30 critical problems + concrete buildable solutions
			</p>
		</div>

		<div class="stats">
			<div class="stat">
				<div class="stat-number">30</div>
				<div class="stat-label">Problems Identified</div>
			</div>
			<div class="stat">
				<div class="stat-number">75+</div>
				<div class="stat-label">Buildable Solutions</div>
			</div>
			<div class="stat">
				<div class="stat-number">1.9M</div>
				<div class="stat-label">People Affected</div>
			</div>
		</div>

		<div class="intro">
			<p class="large">
				Shiraz faces <strong>30 critical challenges</strong> across water, infrastructure, economy, health, and culture. 
				For each problem, we've identified <strong>multiple buildable solutions</strong> with real costs, timelines, and examples from cities that succeeded.
			</p>
			<p class="large">
				This is the <strong>Problem ‚Üí Solutions</strong> framework that Open Earth will use globally.
			</p>
		</div>

		<div class="challenges">
			{challenges.map((challenge) => (
				<div class="challenge-card" data-priority={challenge.priority.toLowerCase()}>
					<div class="challenge-header">
						<div class="challenge-category">{challenge.category}</div>
						<div class={`priority-badge priority-${challenge.priorityColor}`}>
							{challenge.priority}
						</div>
					</div>
					
					<h2 class="challenge-title">{challenge.title}</h2>

					<div class="challenge-info">
						<div class="info-item">
							<strong>Problem:</strong> {challenge.problem}
						</div>
						<div class="info-item">
							<strong>Consequence:</strong> {challenge.consequence}
						</div>
						<div class="info-item">
							<strong>Impact:</strong> {challenge.impact}
						</div>
					</div>

					<div class="solutions">
						<h3>üí° Buildable Solutions</h3>
						{challenge.solutions.map((solution) => (
							<div class="solution-card">
								<h4>{solution.name}</h4>
								<p class="solution-desc">{solution.description}</p>
								<div class="solution-details">
									<div class="detail">
										<strong>üí∞ Cost:</strong> {solution.cost}
									</div>
									<div class="detail">
										<strong>‚è±Ô∏è Time:</strong> {solution.time}
									</div>
									<div class="detail">
										<strong>üìä Capacity:</strong> {solution.capacity}
									</div>
									<div class="detail">
										<strong>üåç Example:</strong> {solution.example}
									</div>
								</div>
								<button class="pledge-btn">
									üí∞ Pledge Support (Coming Soon)
								</button>
							</div>
						))}
					</div>
				</div>
			))}
		</div>

		<div class="cta-section">
			<h2>This is Just the Beginning</h2>
			<p class="large">These are 5 of 30 problems. Each has multiple solutions. Open Earth will let anyone:</p>
			<ul class="cta-list">
				<li>üí∞ Pledge funding with escrow protection</li>
				<li>üõ†Ô∏è Offer skills and expertise</li>
				<li>üì¶ Donate equipment and materials</li>
				<li>üó≥Ô∏è Vote on which solutions to prioritize</li>
				<li>üìä Track progress transparently</li>
			</ul>
			<a href="/" class="cta-btn">Back to Home</a>
		</div>
	</main>
</Layout>

<style>
	main {
		max-width: 1400px;
		margin: 0 auto;
		padding: 2rem;
	}

	.hero {
		text-align: center;
		padding: 3rem 2rem;
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		color: white;
		border-radius: 20px;
		margin-bottom: 3rem;
	}

	.hero h1 {
		font-size: 3.5rem;
		margin: 0 0 1rem;
		font-weight: 900;
	}

	.subtitle {
		font-size: 1.3rem;
		opacity: 0.95;
		line-height: 1.8;
	}

	.stats {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: 2rem;
		margin-bottom: 3rem;
	}

	.stat {
		background: white;
		padding: 2rem;
		border-radius: 12px;
		text-align: center;
		box-shadow: 0 4px 15px rgba(0,0,0,0.1);
	}

	.stat-number {
		font-size: 3rem;
		font-weight: 900;
		color: #667eea;
	}

	.stat-label {
		font-size: 1.1rem;
		color: #666;
		margin-top: 0.5rem;
	}

	.intro {
		background: #f8f9fa;
		padding: 2rem;
		border-radius: 12px;
		margin-bottom: 3rem;
	}

	.large {
		font-size: 1.2rem;
		line-height: 1.8;
		margin-bottom: 1rem;
	}

	.challenges {
		display: grid;
		gap: 3rem;
	}

	.challenge-card {
		background: white;
		border-radius: 16px;
		padding: 2.5rem;
		box-shadow: 0 4px 20px rgba(0,0,0,0.1);
		transition: transform 0.3s, box-shadow 0.3s;
	}

	.challenge-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 8px 30px rgba(0,0,0,0.15);
	}

	.challenge-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 1.5rem;
		flex-wrap: wrap;
		gap: 1rem;
	}

	.challenge-category {
		font-size: 1.2rem;
		font-weight: 600;
		color: #667eea;
	}

	.priority-badge {
		padding: 0.5rem 1rem;
		border-radius: 20px;
		font-weight: bold;
		font-size: 0.9rem;
		text-transform: uppercase;
	}

	.priority-red {
		background: #fee;
		color: #c00;
	}

	.priority-orange {
		background: #ffd;
		color: #f80;
	}

	.priority-yellow {
		background: #ffe;
		color: #990;
	}

	.challenge-title {
		font-size: 2.2rem;
		color: #333;
		margin-bottom: 1.5rem;
		line-height: 1.3;
	}

	.challenge-info {
		background: #f8f9fa;
		padding: 1.5rem;
		border-radius: 12px;
		margin-bottom: 2rem;
	}

	.info-item {
		margin-bottom: 1rem;
		line-height: 1.6;
	}

	.info-item:last-child {
		margin-bottom: 0;
	}

	.info-item strong {
		color: #667eea;
	}

	.solutions h3 {
		font-size: 1.8rem;
		color: #667eea;
		margin-bottom: 1.5rem;
	}

	.solution-card {
		background: #f0f4ff;
		border: 2px solid #667eea;
		border-radius: 12px;
		padding: 1.5rem;
		margin-bottom: 1.5rem;
	}

	.solution-card:last-child {
		margin-bottom: 0;
	}

	.solution-card h4 {
		font-size: 1.5rem;
		color: #333;
		margin-bottom: 1rem;
	}

	.solution-desc {
		font-size: 1.1rem;
		color: #555;
		margin-bottom: 1rem;
		line-height: 1.6;
	}

	.solution-details {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 1rem;
		margin-bottom: 1rem;
	}

	.detail {
		background: white;
		padding: 0.8rem;
		border-radius: 8px;
		font-size: 0.95rem;
	}

	.detail strong {
		color: #667eea;
		display: block;
		margin-bottom: 0.3rem;
	}

	.pledge-btn {
		background: #667eea;
		color: white;
		border: none;
		padding: 1rem 2rem;
		border-radius: 50px;
		font-weight: bold;
		font-size: 1.1rem;
		cursor: pointer;
		transition: all 0.3s;
		width: 100%;
	}

	.pledge-btn:hover {
		background: #764ba2;
		transform: scale(1.02);
	}

	.cta-section {
		text-align: center;
		padding: 4rem 2rem;
		margin-top: 4rem;
		background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
		color: white;
		border-radius: 20px;
	}

	.cta-section h2 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.cta-list {
		text-align: left;
		max-width: 600px;
		margin: 2rem auto;
		font-size: 1.2rem;
		list-style: none;
		padding: 0;
	}

	.cta-list li {
		margin-bottom: 1rem;
		padding-left: 0;
	}

	.cta-btn {
		display: inline-block;
		background: white;
		color: #f5576c;
		padding: 1rem 2rem;
		border-radius: 50px;
		text-decoration: none;
		font-weight: bold;
		font-size: 1.2rem;
		margin-top: 2rem;
		transition: transform 0.3s;
	}

	.cta-btn:hover {
		transform: scale(1.05);
	}
</style>
