<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iran Interactive Map</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #059669 0%, #0ea5e9 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-width: 1200px;
      width: 100%;
    }
    
    h1 {
      text-align: center;
      margin-bottom: 10px;
      background: linear-gradient(to right, #059669, #0ea5e9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 2.5em;
    }
    
    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }
    
    #map-container {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }
    
    svg {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .country-outline {
      fill: #e0f2fe;
      stroke: #0369a1;
      stroke-width: 2;
      transition: all 0.3s ease;
    }
    
    .country-outline:hover {
      fill: #bae6fd;
    }
    
    .city-marker {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .city-marker:hover .city-circle {
      r: 18;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
    }
    
    .city-marker:hover .city-label {
      font-weight: bold;
      font-size: 16px;
    }
    
    .city-circle-available {
      fill: #0ea5e9;
      stroke: white;
      stroke-width: 3;
    }
    
    .city-circle-soon {
      fill: #94a3b8;
      stroke: white;
      stroke-width: 3;
    }
    
    .city-label {
      fill: #1e293b;
      font-size: 14px;
      font-weight: 600;
      text-anchor: middle;
      pointer-events: none;
      transition: all 0.3s ease;
    }
    
    .legend {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .legend-circle {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .legend-available {
      background: #0ea5e9;
    }
    
    .legend-soon {
      background: #94a3b8;
    }

    .info-popup {
      position: fixed;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      display: none;
      z-index: 1000;
      max-width: 300px;
    }
    
    .info-popup.active {
      display: block;
    }
    
    .info-popup h3 {
      margin: 0 0 10px 0;
      color: #0369a1;
    }
    
    .info-popup p {
      margin: 5px 0;
      color: #666;
    }
    
    .info-popup button {
      margin-top: 15px;
      padding: 10px 20px;
      background: linear-gradient(to right, #059669, #0ea5e9);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
    }
    
    .info-popup button:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üå± ÿ®ÿßÿ∫ ÿ¢€åŸÜÿØŸá - Bagh-e Ayandeh</h1>
    <p class="subtitle">Click on any city to explore</p>
    
    <div id="map-container">
      <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Iran country outline (simplified) -->
        <path class="country-outline" d="
          M 100,250 
          L 150,180 L 200,150 L 280,140 L 350,130 L 420,140 L 480,160 
          L 540,190 L 590,230 L 640,280 L 680,340 L 700,400 
          L 690,460 L 660,500 L 610,530 L 540,550 L 460,560 
          L 380,555 L 300,540 L 230,510 L 170,470 L 130,420 
          L 100,360 L 90,300 Z
        "/>
        
        <!-- Cities -->
        <!-- Shiraz - Available -->
        <g class="city-marker" data-city="shiraz" data-available="true">
          <circle class="city-circle city-circle-available" cx="380" cy="450" r="15"/>
          <text class="city-label" x="380" y="480">Shiraz ÿ¥€åÿ±ÿßÿ≤</text>
        </g>
        
        <!-- Tehran - Coming Soon -->
        <g class="city-marker" data-city="tehran" data-available="false">
          <circle class="city-circle city-circle-soon" cx="390" cy="260" r="12"/>
          <text class="city-label" x="390" y="285">Tehran ÿ™Ÿáÿ±ÿßŸÜ</text>
        </g>
        
        <!-- Isfahan - Coming Soon -->
        <g class="city-marker" data-city="isfahan" data-available="false">
          <circle class="city-circle city-circle-soon" cx="410" cy="340" r="12"/>
          <text class="city-label" x="410" y="365">Isfahan ÿßÿµŸÅŸáÿßŸÜ</text>
        </g>
        
        <!-- Tabriz - Coming Soon -->
        <g class="city-marker" data-city="tabriz" data-available="false">
          <circle class="city-circle city-circle-soon" cx="300" cy="190" r="12"/>
          <text class="city-label" x="300" y="215">Tabriz ÿ™ÿ®ÿ±€åÿ≤</text>
        </g>
        
        <!-- Mashhad - Coming Soon -->
        <g class="city-marker" data-city="mashhad" data-available="false">
          <circle class="city-circle city-circle-soon" cx="570" cy="250" r="12"/>
          <text class="city-label" x="570" y="275">Mashhad ŸÖÿ¥ŸáÿØ</text>
        </g>
      </svg>
    </div>
    
    <div class="legend">
      <div class="legend-item">
        <div class="legend-circle legend-available"></div>
        <span>Available now</span>
      </div>
      <div class="legend-item">
        <div class="legend-circle legend-soon"></div>
        <span>Coming soon</span>
      </div>
    </div>
  </div>

  <div id="info-popup" class="info-popup"></div>

  <script>
    const basePath = window.location.pathname.includes('Bagh-e-Ayandeh') ? '/Bagh-e-Ayandeh' : '';
    
    const cities = {
      shiraz: {
        name: 'Shiraz ÿ¥€åÿ±ÿßÿ≤',
        description: 'üèõÔ∏è Birthplace of Hafez & Saadi',
        info: 'Explore water solutions, cultural heritage, and climate data',
        url: basePath + '/shiraz'
      },
      tehran: {
        name: 'Tehran ÿ™Ÿáÿ±ÿßŸÜ',
        description: 'üèôÔ∏è Capital of Iran',
        info: 'Coming soon...',
        url: null
      },
      isfahan: {
        name: 'Isfahan ÿßÿµŸÅŸáÿßŸÜ',
        description: 'üïå Half of the World',
        info: 'Coming soon...',
        url: null
      },
      tabriz: {
        name: 'Tabriz ÿ™ÿ®ÿ±€åÿ≤',
        description: 'üèîÔ∏è Historic city',
        info: 'Coming soon...',
        url: null
      },
      mashhad: {
        name: 'Mashhad ŸÖÿ¥ŸáÿØ',
        description: 'üïå Spiritual center',
        info: 'Coming soon...',
        url: null
      }
    };

    const markers = document.querySelectorAll('.city-marker');
    const popup = document.getElementById('info-popup');

    markers.forEach(marker => {
      marker.addEventListener('click', function(e) {
        const cityKey = this.getAttribute('data-city');
        const available = this.getAttribute('data-available') === 'true';
        const city = cities[cityKey];
        
        if (available && city.url) {
          window.location.href = city.url;
        } else {
          // Show info popup
          popup.innerHTML = `
            <h3>${city.name}</h3>
            <p>${city.description}</p>
            <p><em>${city.info}</em></p>
          `;
          popup.classList.add('active');
          
          // Position popup near click
          popup.style.left = (e.clientX + 10) + 'px';
          popup.style.top = (e.clientY + 10) + 'px';
        }
      });
    });

    // Close popup on outside click
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.city-marker') && !e.target.closest('#info-popup')) {
        popup.classList.remove('active');
      }
    });

    console.log('‚úì SVG Map loaded successfully!');
    console.log('Cities:', Object.keys(cities));
  </script>
</body>
</html>
