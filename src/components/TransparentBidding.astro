---
const project = {
  title: "Qanat Restoration - Zone A, Bed 5",
  description: "Restore 200m of ancient qanat system, requires excavation, cleaning, and structural repair",
  needed: [
    "VVS engineer (20h)",
    "Manual labor (40h)",
    "Excavation equipment",
    "Structural materials"
  ]
};

const bids = [
  {
    bidder: "Ahmed K.",
    avatar: "üë®‚Äçüîß",
    type: "professional",
    offer: "Complete restoration: 25,000 kr",
    breakdown: "Labor 15k kr, Materials 8k kr, Equipment rental 2k kr",
    timeline: "3 weeks",
    experience: "8 qanat restorations, 15 years experience",
    rating: 4.9,
    verified: true
  },
  {
    bidder: "Community Volunteers",
    avatar: "üë•",
    type: "volunteer",
    offer: "Free labor (15 volunteers, 40h each)",
    breakdown: "Need: Materials budget (8k kr), Equipment rental (2k kr)",
    timeline: "4 weeks (weekends only)",
    experience: "Previous project: Zone B restoration",
    rating: 4.7,
    verified: true
  },
  {
    bidder: "Sara + Ali Team",
    avatar: "ü§ù",
    type: "hybrid",
    offer: "Skills + Equipment: 12,000 kr total",
    breakdown: "We provide: Engineering (free), Equipment (owned). Need: Materials only (8k kr), Helper wages (4k kr)",
    timeline: "2.5 weeks",
    experience: "4 qanats restored together",
    rating: 4.8,
    verified: true
  },
  {
    bidder: "Anonymous",
    avatar: "üë§",
    type: "volunteer",
    offer: "Equipment loan (excavator) + expertise",
    breakdown: "I can coordinate and provide equipment. Need material budget only.",
    timeline: "Flexible",
    experience: "Construction background, wants to help community",
    rating: null,
    verified: false
  }
];
---

<div class="transparent-bidding">
  <div class="project-need">
    <h2>üî® Project Needs Help</h2>
    <h3 class="project-title">{project.title}</h3>
    <p class="project-description">{project.description}</p>
    
    <div class="needed-list">
      <h4>What's Needed:</h4>
      <ul>
        {project.needed.map(item => (
          <li>{item}</li>
        ))}
      </ul>
    </div>

    <button class="submit-bid-btn">üìù Submit Your Offer</button>
  </div>

  <div class="bids-section">
    <h3>üíº Community Offers (100% Transparent)</h3>
    <p class="transparency-note">All offers are public. Community votes on best solution.</p>

    <div class="bids-list">
      {bids.map((bid, index) => (
        <div class={`bid-card bid-${bid.type}`}>
          <div class="bid-header">
            <div class="bidder-info">
              <span class="bidder-avatar">{bid.avatar}</span>
              <div>
                <h4 class="bidder-name">{bid.bidder}</h4>
                <span class={`bid-type type-${bid.type}`}>
                  {bid.type === 'professional' && 'üíº Professional'}
                  {bid.type === 'volunteer' && '‚ù§Ô∏è Volunteer'}
                  {bid.type === 'hybrid' && 'ü§ù Hybrid'}
                </span>
              </div>
            </div>
            <div class="bid-meta">
              {bid.verified && <span class="verified" title="Verified contributor">‚úì</span>}
              {bid.rating && (
                <span class="rating">‚≠ê {bid.rating}</span>
              )}
            </div>
          </div>

          <div class="bid-offer">
            <div class="main-offer">{bid.offer}</div>
            <div class="breakdown">{bid.breakdown}</div>
          </div>

          <div class="bid-details">
            <div class="detail">
              <span class="detail-label">Timeline:</span>
              <span class="detail-value">{bid.timeline}</span>
            </div>
            <div class="detail">
              <span class="detail-label">Experience:</span>
              <span class="detail-value">{bid.experience}</span>
            </div>
          </div>

          <div class="bid-actions">
            <button class="vote-btn">üëç Upvote (23)</button>
            <button class="discuss-btn">üí¨ Discuss</button>
            <button class="select-btn">‚úì Select This Offer</button>
          </div>
        </div>
      ))}
    </div>
  </div>

  <div class="how-it-works">
    <h3>üåü How Transparent Bidding Works</h3>
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <p><strong>Anyone can offer:</strong> Professional service, volunteer time, equipment, or hybrid</p>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <p><strong>Everything is public:</strong> All costs, timelines, and experience visible</p>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <p><strong>Community decides:</strong> Vote on best solution for the project</p>
      </div>
      <div class="step">
        <div class="step-num">4</div>
        <p><strong>Build reputation:</strong> Completed work earns you points and reviews</p>
      </div>
    </div>
  </div>
</div>

<style>
  .transparent-bidding {
    margin: 4rem 0;
  }

  .project-need {
    background: rgba(26, 31, 58, 0.8);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(102, 126, 234, 0.5);
    border-radius: 16px;
    padding: 2.5rem;
    margin-bottom: 3rem;
  }

  .project-need h2 {
    font-size: 2.5rem;
    color: #ffffff;
    margin-bottom: 1rem;
    text-align: center;
  }

  .project-title {
    font-size: 1.8rem;
    color: #42e695;
    margin-bottom: 1rem;
  }

  .project-description {
    color: #e0e0e0;
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }

  .needed-list {
    background: rgba(102, 126, 234, 0.1);
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
  }

  .needed-list h4 {
    color: #ffffff;
    margin-bottom: 1rem;
  }

  .needed-list ul {
    list-style: none;
    padding: 0;
  }

  .needed-list li {
    color: #e0e0e0;
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
  }

  .needed-list li::before {
    content: "‚úì";
    position: absolute;
    left: 0;
    color: #42e695;
    font-weight: bold;
  }

  .submit-bid-btn {
    width: 100%;
    background: linear-gradient(135deg, #42e695, #3bb2b8);
    color: white;
    border: none;
    padding: 1.2rem 2rem;
    border-radius: 50px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .submit-bid-btn:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 30px rgba(66, 230, 149, 0.4);
  }

  .bids-section h3 {
    font-size: 2rem;
    color: #ffffff;
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .transparency-note {
    text-align: center;
    color: #a0a0a0;
    font-size: 1.05rem;
    margin-bottom: 2rem;
  }

  .bids-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .bid-card {
    background: rgba(26, 31, 58, 0.6);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(102, 126, 234, 0.3);
    border-radius: 16px;
    padding: 2rem;
    transition: all 0.4s;
  }

  .bid-card:hover {
    transform: translateY(-5px);
    border-color: #667eea;
    box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
  }

  .bid-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;
  }

  .bidder-info {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .bidder-avatar {
    font-size: 2.5rem;
  }

  .bidder-name {
    font-size: 1.3rem;
    color: #ffffff;
    margin: 0 0 0.3rem 0;
  }

  .bid-type {
    font-size: 0.85rem;
    padding: 0.3rem 0.8rem;
    border-radius: 12px;
    font-weight: 600;
  }

  .type-professional {
    background: rgba(102, 126, 234, 0.2);
    color: #667eea;
  }

  .type-volunteer {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
  }

  .type-hybrid {
    background: rgba(66, 230, 149, 0.2);
    color: #42e695;
  }

  .bid-meta {
    display: flex;
    gap: 0.8rem;
    align-items: center;
  }

  .verified {
    background: rgba(66, 230, 149, 0.2);
    color: #42e695;
    padding: 0.3rem 0.6rem;
    border-radius: 50%;
    font-weight: bold;
  }

  .rating {
    color: #FFD700;
    font-weight: 600;
  }

  .bid-offer {
    background: rgba(102, 126, 234, 0.1);
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
  }

  .main-offer {
    font-size: 1.3rem;
    font-weight: 700;
    color: #42e695;
    margin-bottom: 0.8rem;
  }

  .breakdown {
    color: #e0e0e0;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .bid-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .detail {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
  }

  .detail-label {
    color: #a0a0a0;
    font-size: 0.85rem;
    text-transform: uppercase;
    font-weight: 600;
  }

  .detail-value {
    color: #e0e0e0;
    font-size: 0.95rem;
  }

  .bid-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .bid-actions button {
    flex: 1;
    min-width: 120px;
    padding: 0.8rem 1.5rem;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    border: none;
  }

  .vote-btn {
    background: rgba(102, 126, 234, 0.2);
    color: #667eea;
    border: 1px solid rgba(102, 126, 234, 0.4);
  }

  .vote-btn:hover {
    background: rgba(102, 126, 234, 0.3);
    transform: scale(1.05);
  }

  .discuss-btn {
    background: rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .discuss-btn:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  .select-btn {
    background: linear-gradient(135deg, #42e695, #3bb2b8);
    color: white;
  }

  .select-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 20px rgba(66, 230, 149, 0.3);
  }

  .how-it-works {
    background: rgba(26, 31, 58, 0.6);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(102, 126, 234, 0.3);
    border-radius: 16px;
    padding: 2rem;
  }

  .how-it-works h3 {
    color: #ffffff;
    font-size: 1.8rem;
    margin-bottom: 2rem;
    text-align: center;
  }

  .steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
  }

  .step {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
  }

  .step-num {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    font-size: 1.2rem;
    flex-shrink: 0;
  }

  .step p {
    color: #e0e0e0;
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 0;
  }

  .step strong {
    color: #ffffff;
  }
</style>
